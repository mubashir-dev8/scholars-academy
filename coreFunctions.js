const _0x4850b5=_0x502d;(function(_0x56c7a4,_0x48fadb){const _0x4c26d6=_0x502d,_0x5267d9=_0x56c7a4();while(!![]){try{const _0x3470a2=parseInt(_0x4c26d6(0xda))/0x1+-parseInt(_0x4c26d6(0x17f))/0x2*(parseInt(_0x4c26d6(0x161))/0x3)+-parseInt(_0x4c26d6(0x17c))/0x4*(-parseInt(_0x4c26d6(0x16b))/0x5)+-parseInt(_0x4c26d6(0xf4))/0x6*(-parseInt(_0x4c26d6(0x15d))/0x7)+parseInt(_0x4c26d6(0x190))/0x8*(-parseInt(_0x4c26d6(0xf9))/0x9)+-parseInt(_0x4c26d6(0x186))/0xa+parseInt(_0x4c26d6(0x174))/0xb*(parseInt(_0x4c26d6(0x142))/0xc);if(_0x3470a2===_0x48fadb)break;else _0x5267d9['push'](_0x5267d9['shift']());}catch(_0x30bc63){_0x5267d9['push'](_0x5267d9['shift']());}}}(_0x2e08,0x8fe3e));function clearResult(){const _0x33bf7a=_0x502d;document['getElementById'](_0x33bf7a(0x180))[_0x33bf7a(0x12c)]='';}function clearMarksResult(){const _0x30f23a=_0x502d;document[_0x30f23a(0x11d)](_0x30f23a(0x184))['value']='';}function loadClass(_0x5de7ca){const _0x3d2255=_0x502d,_0x58e88d=currentClass;_0x58e88d&&_0x58e88d!==_0x5de7ca&&(attendance[_0x58e88d]={},testMarks[_0x58e88d]={}),currentClass=_0x5de7ca;const _0x24b144=document['getElementById'](_0x3d2255(0xd1))['classList'][_0x3d2255(0xd2)](_0x3d2255(0x195)),_0x365bd5=document[_0x3d2255(0x11d)]('analyticsSection')[_0x3d2255(0x197)]['contains'](_0x3d2255(0x195));_0x24b144?loadMarksClass(_0x5de7ca):_0x365bd5?loadAnalyticsClass(_0x5de7ca):loadAttendanceClass(_0x5de7ca);const _0x1f4ce4=getLocalISODate();checkAttendanceSubmittedForClassDate(_0x5de7ca,_0x1f4ce4)[_0x3d2255(0x167)](_0x74aeef=>{setShareAndDownloadVisibility(Boolean(_0x74aeef));})[_0x3d2255(0xd9)](_0x404226=>{const _0x11a17f=_0x3d2255;setShareAndDownloadVisibility(!0x1),console[_0x11a17f(0xd7)]('checkAttendanceSubmittedForClassDate\x20error:',_0x404226);});}function loadAttendanceClass(_0x16cca4){const _0x3c3cd5=_0x502d;document[_0x3c3cd5(0x11d)](_0x3c3cd5(0x180))[_0x3c3cd5(0x12c)]='',attendance[_0x16cca4]||(attendance[_0x16cca4]={}),currentClass=_0x16cca4;const _0x3066db=studentData[_0x16cca4]||[];_0x3066db[_0x3c3cd5(0x131)](_0x182f65=>{attendance[_0x16cca4][_0x182f65]||(attendance[_0x16cca4][_0x182f65]={'status':null,'time':''});});const _0x3f1b4e=document[_0x3c3cd5(0x11d)]('studentsList');_0x3f1b4e[_0x3c3cd5(0x171)]=_0x3c3cd5(0x193)+_0x16cca4+_0x3c3cd5(0x12f),_0x3066db[_0x3c3cd5(0x131)](_0x39fbec=>{const _0x1e6d5b=_0x3c3cd5,_0x191528=attendance[_0x16cca4][_0x39fbec]||{'status':null,'time':''},_0x1aa86c='Late'===_0x191528[_0x1e6d5b(0x11e)],_0x429e41=_0x1e6d5b(0x144)===_0x191528['status']?'present-selected':'',_0x3cde23='Absent'===_0x191528[_0x1e6d5b(0x11e)]?'absent-selected':'',_0x435839=_0x1e6d5b(0x12d)===_0x191528['status']?_0x1e6d5b(0x101):'',_0x36ffff=document[_0x1e6d5b(0x160)](_0x1e6d5b(0xd8));_0x36ffff[_0x1e6d5b(0x19b)]='student',_0x36ffff[_0x1e6d5b(0x171)]=_0x1e6d5b(0x162)+escapeHtml(_0x39fbec)+_0x1e6d5b(0x110)+escapeJs(_0x39fbec)+_0x1e6d5b(0x18a)+escapeJs(_0x39fbec)+'\x27,\x20this)\x22\x20title=\x22Enter\x20arrival\x20time\x20if\x20late\x20(e.g.\x207:20\x20pm)\x22\x20style=\x22'+(_0x1aa86c?'':_0x1e6d5b(0x16e))+'\x22\x20'+(_0x1aa86c?'':'disabled')+_0x1e6d5b(0x13b)+escapeHtml(_0x191528[_0x1e6d5b(0xfe)]||'')+_0x1e6d5b(0x148)+escapeJs(_0x39fbec)+_0x1e6d5b(0x15e)+(_0x435839?_0x1e6d5b(0x113):'')+_0x1e6d5b(0x19a)+escapeJs(_0x39fbec)+_0x1e6d5b(0x121)+(_0x429e41?_0x1e6d5b(0xdf):'')+_0x1e6d5b(0x10a)+escapeJs(_0x39fbec)+_0x1e6d5b(0x155)+(_0x3cde23?'class=\x22absent-selected\x22':'')+'>Absent</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3f1b4e[_0x1e6d5b(0x10f)](_0x36ffff);}),setTimeout(()=>{const _0x54a14b=_0x3c3cd5,_0x469452=_0x3f1b4e[_0x54a14b(0x176)]()[_0x54a14b(0x14e)]+window[_0x54a14b(0xdd)]-0x3c;window['scrollTo']({'top':_0x469452,'behavior':_0x54a14b(0xde)});},0x50);}function loadMarksClass(_0x557cf9){const _0x1879f2=_0x502d;document[_0x1879f2(0x11d)](_0x1879f2(0x184))[_0x1879f2(0x12c)]='',testMarks[_0x557cf9]||(testMarks[_0x557cf9]={}),currentClass=_0x557cf9;const _0x15c305=studentData[_0x557cf9]||[];_0x15c305[_0x1879f2(0x131)](_0x13f514=>{void 0x0===testMarks[_0x557cf9][_0x13f514]&&(testMarks[_0x557cf9][_0x13f514]='');});const _0x7c523=document[_0x1879f2(0x11d)]('marksStudentsList');_0x7c523[_0x1879f2(0x171)]=_0x1879f2(0x108)+_0x557cf9+'\x20-\x20Enter\x20Test\x20Marks</h2>',_0x15c305[_0x1879f2(0x131)](_0x294778=>{const _0x36430f=_0x1879f2,_0x349fff=testMarks[_0x557cf9][_0x294778]||'',_0x21866e=document[_0x36430f(0x160)]('div');_0x21866e['className']=_0x36430f(0x151),_0x21866e[_0x36430f(0x171)]=_0x36430f(0x162)+escapeHtml(_0x294778)+_0x36430f(0x141)+escapeJs(_0x294778)+_0x36430f(0x165)+escapeHtml(_0x349fff)+_0x36430f(0x17e),_0x7c523[_0x36430f(0x10f)](_0x21866e);}),applyTotalToInputs(),setTimeout(()=>{const _0x306202=_0x1879f2,_0x1442b6=_0x7c523['getBoundingClientRect']()[_0x306202(0x14e)]+window['scrollY']-0x3c;window[_0x306202(0x15b)]({'top':_0x1442b6,'behavior':_0x306202(0xde)});},0x50);}function _0x2e08(){const _0x32e221=['center','14px','\x20\x20\x20','<h2\x20style=\x22margin-top:6px;\x20text-align:left;\x22>','Please\x20select\x20a\x20class\x20first.','>Present</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22mark(\x27','addEventListener','‚ùå\x20Absent\x20(','flex','position','appendChild','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20class=\x22time-input\x22\x20type=\x22text\x22\x20placeholder=\x22Late\x20Mark\x20time\x22\x20onchange=\x22onTimeChange(\x27','map','none','class=\x22late-selected\x22','querySelector','\x20-\x20','.student','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','analyticsStudentsList','join','image/png','display','Please\x20select\x20a\x20class\x20and\x20mark\x20attendance\x20first.','getElementById','status','fixed','border','\x27,\x20\x27Present\x27,\x20this)\x22\x20','Absent','):\x0a','length','max','string','https://wa.me/?text=','isFinite','\x20students\x20in\x20','...','background','value','Late','Please\x20mark\x20all\x20students\x20for\x20','\x20Standard\x20-\x20Mark\x20Attendance</h2>','Failed\x20to\x20submit\x20attendance.\x20Check\x20console\x20for\x20details.','forEach','short','borderRadius','940px','#1f2937','color','1px\x20solid\x20rgba(22,\x2024,\x2035,\x200.06)','style','_blank','No\x20valid\x20marks\x20entered\x20yet.\x0a','\x20value=\x22','8px','Subject:\x20','DOMContentLoaded','parentNode','üïí\x20Late\x20Comers\x20(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20class=\x22marks-input\x22\x20type=\x22number\x22\x20placeholder=\x22Marks\x22\x20min=\x220\x22\x20oninput=\x22onMarksInput(\x27','10487352zCbGsD','all','Present','Failed\x20to\x20create\x20image.\x20See\x20console\x20for\x20details.','Firebase\x20is\x20not\x20initialized.\x20Check\x20firebaseConfig\x20in\x20head\x20module\x20script.','analytics-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22btn-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22mark(\x27','\x20\x20\x20-\x20','name','Show\x20Full\x20Details','absent-selected','maxWidth','top','button','Timestamp','student','\x20‚Äî\x20','click','Failed\x20to\x20verify\x20existing\x20attendance:','\x27,\x20\x27Absent\x27,\x20this)\x22\x20','left','.marks-input','Failed\x20to\x20verify\x20if\x20attendance\x20already\x20submitted\x20(see\x20console).\x20Do\x20you\x20still\x20want\x20to\x20submit?','.btn-group\x20button','showLateBadge','scrollTo','scrollIntoView','147KYPrEV','\x27,\x20\x27Late\x27,\x20this)\x22\x20','push','createElement','6BLMrup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22name\x22>','info',')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:13px;line-height:1.45;color:#111827;min-height:60px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20this)\x22\x20value=\x22','shareBtn','then','chapterInput','):\x20','Some\x20marks\x20are\x20invalid\x20or\x20exceed\x20Total\x20Marks.\x20First\x20few:\x20','10ougRVm','body','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:12px;color:#9ca3af;margin-top:6px;\x22>Class\x20Strength:\x20<strong>','display:none;','querySelectorAll','No\x20attendance\x20to\x20share!','innerHTML','Submit\x20attendance\x20for\x20','Average:\x20','22MzNSvi','</strong>\x20‚Äî\x20','getBoundingClientRect','toFixed','entries','remove','\x20üïí','downloadImageBtn','822644glhJrs','alignItems','\x22\x20title=\x22Enter\x20marks\x20obtained\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','568472hFbvPI','summary','üìö\x20','present-selected','\x20first.\x0aUnmarked\x20(','marksSummary','mark','2681540OcpokJ','invalid','padding','addDoc','\x27,\x20this)\x22\x20oninput=\x22onTimeChange(\x27','totalMarksInput','\x20attendance\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20<!--\x20Absent\x20card\x20(warm\x20orange\x20gradient)\x20-->\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:1;background:linear-gradient(90deg,\x20rgba(255,247,237,1)\x200%,\x20rgba(255,255,255,0)\x20100%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:10px;padding:12px;border:1px\x20solid\x20rgba(249,115,22,0.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:0\x206px\x2018px\x20rgba(249,115,22,0.03);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:700;font-size:14px;display:flex;align-items:center;gap:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚ùå\x20Absent\x20<span\x20style=\x22font-weight:600;color:#fb923c;\x22>(','add','.png','2249336ezLJnB','üìù\x20','Total\x20Marks:\x20','<h2\x20style=\x22margin-top:6px;\x22>','attendance_records','active','No\x20attendance\x20marked!','classList','toLocaleDateString','trim','>Late</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22mark(\x27','className','filter','marksSection','contains','disabled','textContent','.\x20<span\x20style=\x22color:#e74c3c;font-weight:600;\x22><strong>','.time-input','error','div','catch','110663zYkwmF','\x0aAbsent\x20students\x0a','Attendance\x20submitted\x20for\x20','scrollY','smooth','class=\x22present-selected\x22','<br>','linear-gradient(135deg,\x20#f0f7ff\x200%,\x20#ffffff\x2040%,\x20#f7fafc\x20100%)','Inter,\x20\x27Segoe\x20UI\x27,\x20Roboto,\x20Helvetica,\x20Arial,\x20sans-serif','fromDate','\x20students)?','28px','fontFamily','</span>','marksStudentsList','No\x20attendance\x20marked\x20for\x20this\x20class.\x20Mark\x20attendance\x20before\x20submitting.','type','\x0a\x20\x20\x20\x20<div\x20style=\x22display:flex;align-items:center;gap:16px;margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:linear-gradient(135deg,#5eead4,#60a5fa);box-shadow:0\x206px\x2018px\x20rgba(59,130,246,0.12);font-size:28px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20üéì\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:1;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:20px;font-weight:700;margin-bottom:2px;\x22>Scholars\x20Academy</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:13px;color:#4b5563;\x22>üìö\x20','</strong>','\x20-\x20Test\x20Marks\x0a','‚úÖ\x20Present\x20(','boxSizing','Chapter:\x20','.\x20<strong>','margin','closest','80226rZHYFP','slice','Test\x20Marks','setAttribute','numeric','36SnRbGV','download','toString','\x0aInvalid\x20marks\x0a','isLate','time','open','Error\x20saving\x20attendance:','late-selected',')</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:13px;line-height:1.45;color:#111827;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','0\x20auto','focus'];_0x2e08=function(){return _0x32e221;};return _0x2e08();}function loadAnalyticsClass(_0x479193){const _0x10fba7=_0x502d;document['getElementById'](_0x10fba7(0x180))['value']='',attendance[_0x479193]||(attendance[_0x479193]={}),testMarks[_0x479193]||(testMarks[_0x479193]={}),currentClass=_0x479193;const _0x4d8e95=studentData[_0x479193]||[],_0x396e97=document['getElementById'](_0x10fba7(0x118));_0x396e97[_0x10fba7(0x171)]=_0x10fba7(0x108)+escapeHtml(_0x479193)+'\x20-\x20Students\x20Analytics</h2>',_0x4d8e95['forEach'](_0x18d966=>{const _0x2bfd94=_0x10fba7,_0x4808bf=document['createElement'](_0x2bfd94(0xd8));_0x4808bf['className']=_0x2bfd94(0x151);const _0x21f7d7=document['createElement'](_0x2bfd94(0xd8));_0x21f7d7['className']=_0x2bfd94(0x14a),_0x21f7d7[_0x2bfd94(0xd4)]=_0x18d966;const _0x522b8f=document['createElement']('div');_0x522b8f[_0x2bfd94(0x138)][_0x2bfd94(0x11b)]=_0x2bfd94(0x10d),_0x522b8f['style']['gap']=_0x2bfd94(0x13c),_0x522b8f[_0x2bfd94(0x138)][_0x2bfd94(0x17d)]=_0x2bfd94(0x105);const _0x56c0c9=document['createElement'](_0x2bfd94(0x14f));_0x56c0c9[_0x2bfd94(0x19b)]='analytics-btn',_0x56c0c9[_0x2bfd94(0xea)]=_0x2bfd94(0x14f),_0x56c0c9[_0x2bfd94(0xd4)]=_0x2bfd94(0x14b),_0x56c0c9['addEventListener']('click',function(){showStudentDetails(_0x18d966);});const _0x2d3228=document[_0x2bfd94(0x160)](_0x2bfd94(0x14f));_0x2d3228[_0x2bfd94(0x19b)]=_0x2bfd94(0x147),_0x2d3228[_0x2bfd94(0xea)]=_0x2bfd94(0x14f),_0x2d3228['textContent']=_0x2bfd94(0xf6),_0x2d3228[_0x2bfd94(0x10b)](_0x2bfd94(0x153),function(){showStudentMarks(_0x18d966);}),_0x522b8f[_0x2bfd94(0x10f)](_0x56c0c9),_0x522b8f[_0x2bfd94(0x10f)](_0x2d3228),_0x4808bf[_0x2bfd94(0x10f)](_0x21f7d7),_0x4808bf['appendChild'](_0x522b8f),_0x396e97[_0x2bfd94(0x10f)](_0x4808bf);}),setTimeout(()=>{const _0xaee08b=_0x10fba7,_0x7cf770=_0x396e97['getBoundingClientRect']()[_0xaee08b(0x14e)]+window['scrollY']-0x3c;window[_0xaee08b(0x15b)]({'top':_0x7cf770,'behavior':_0xaee08b(0xde)});},0x50);}function mark(_0x8a068b,_0x2190c2,_0x5b735d){const _0x23e2f3=_0x502d;if(!currentClass)return;if(!attendance[currentClass]||!attendance[currentClass][_0x8a068b])return;attendance[currentClass][_0x8a068b][_0x23e2f3(0x11e)]=_0x2190c2;const _0x233eeb=_0x5b735d[_0x23e2f3(0xf3)](_0x23e2f3(0x116)),_0x332ffe=_0x233eeb[_0x23e2f3(0x114)](_0x23e2f3(0xd6));_0x233eeb['querySelectorAll'](_0x23e2f3(0x159))[_0x23e2f3(0x131)](_0x3b23ec=>{const _0x2cca2d=_0x23e2f3;_0x3b23ec[_0x2cca2d(0x197)][_0x2cca2d(0x179)](_0x2cca2d(0x182),_0x2cca2d(0x14c),'late-selected');}),_0x23e2f3(0x144)===_0x2190c2?(_0x5b735d['classList'][_0x23e2f3(0x18e)](_0x23e2f3(0x182)),_0x332ffe&&(_0x332ffe[_0x23e2f3(0x138)][_0x23e2f3(0x11b)]=_0x23e2f3(0x112),_0x332ffe['disabled']=!0x0,_0x332ffe[_0x23e2f3(0x12c)]=''),attendance[currentClass][_0x8a068b][_0x23e2f3(0xfe)]=''):_0x23e2f3(0x12d)===_0x2190c2?(_0x5b735d['classList']['add'](_0x23e2f3(0x101)),_0x332ffe&&(_0x332ffe[_0x23e2f3(0x138)][_0x23e2f3(0x11b)]='',_0x332ffe[_0x23e2f3(0xd3)]=!0x1,setTimeout(()=>_0x332ffe[_0x23e2f3(0x104)](),0x3c))):_0x23e2f3(0x122)===_0x2190c2&&(_0x5b735d[_0x23e2f3(0x197)][_0x23e2f3(0x18e)](_0x23e2f3(0x14c)),_0x332ffe&&(_0x332ffe['style'][_0x23e2f3(0x11b)]='none',_0x332ffe[_0x23e2f3(0xd3)]=!0x0,_0x332ffe[_0x23e2f3(0x12c)]=''),attendance[currentClass][_0x8a068b]['time']='');}function onTimeChange(_0x672159,_0x46ef23){const _0x2b1833=_0x502d;if(!currentClass)return;if(!attendance[currentClass]||!attendance[currentClass][_0x672159])return;const _0x30a4d1=(_0x46ef23[_0x2b1833(0x12c)]||'')[_0x2b1833(0x199)]();attendance[currentClass][_0x672159][_0x2b1833(0xfe)]=_0x30a4d1,_0x30a4d1&&'Late'!==attendance[currentClass][_0x672159][_0x2b1833(0x11e)]&&(attendance[currentClass][_0x672159][_0x2b1833(0x11e)]=_0x2b1833(0x12d),loadAttendanceClass(currentClass));}function generateResult(){const _0x37269d=_0x502d;if(currentClass&&studentData[currentClass]&&studentData[currentClass][_0x37269d(0x124)]>0x0){const _0xac1b39=findUnmarkedStudents(currentClass);if(_0xac1b39[_0x37269d(0x124)]>0x0){const _0x29f9a2=_0xac1b39['slice'](0x0,0xf)[_0x37269d(0x119)](',\x20');return void alert(_0x37269d(0x12e)+currentClass+'\x20first.\x0aUnmarked\x20('+_0xac1b39[_0x37269d(0x124)]+_0x37269d(0x169)+_0x29f9a2+(_0xac1b39[_0x37269d(0x124)]>0xf?_0x37269d(0x12a):''));}}else for(let _0x12aab2 in attendance){if(!studentData[_0x12aab2]||0x0===studentData[_0x12aab2][_0x37269d(0x124)])continue;const _0x4c17e0=findUnmarkedStudents(_0x12aab2);if(_0x4c17e0[_0x37269d(0x124)]>0x0){const _0x2f8523=_0x4c17e0[_0x37269d(0xf5)](0x0,0xf)[_0x37269d(0x119)](',\x20');return void alert(_0x37269d(0x12e)+_0x12aab2+_0x37269d(0x183)+_0x4c17e0['length']+_0x37269d(0x169)+_0x2f8523+(_0x4c17e0[_0x37269d(0x124)]>0xf?_0x37269d(0x12a):''));}}let _0x4a125d='';for(let _0x192f5f in attendance){const _0xa4a9f6=Object[_0x37269d(0x178)](attendance[_0x192f5f]||{}),_0x44661a=_0xa4a9f6[_0x37269d(0x19c)](([_0x507dc4,_0x28ea9c])=>_0x28ea9c&&(_0x37269d(0x144)===_0x28ea9c[_0x37269d(0x11e)]||_0x37269d(0x12d)===_0x28ea9c['status']))[_0x37269d(0x111)](([_0x318d10])=>_0x318d10),_0x1e3757=_0xa4a9f6[_0x37269d(0x19c)](([_0x293548,_0x3a0eef])=>_0x3a0eef&&_0x37269d(0x122)===_0x3a0eef['status'])[_0x37269d(0x111)](([_0x11893b])=>_0x11893b),_0x167b9f=_0xa4a9f6['filter'](([_0x495878,_0x2b6c30])=>_0x2b6c30&&_0x37269d(0x12d)===_0x2b6c30['status'])[_0x37269d(0x111)](([_0x31d51d,_0x1fd008])=>({'name':_0x31d51d,'time':_0x1fd008[_0x37269d(0xfe)]}));0x0===_0x44661a['length']&&0x0===_0x1e3757[_0x37269d(0x124)]&&0x0===_0x167b9f[_0x37269d(0x124)]||(_0x4a125d+=_0x37269d(0x181)+_0x192f5f+'\x20Attendance\x0a\x0a',_0x44661a['length']>0x0&&(_0x4a125d+=_0x37269d(0xee)+_0x44661a[_0x37269d(0x124)]+_0x37269d(0x123),_0x44661a[_0x37269d(0x131)]((_0x512a3a,_0x431e91)=>{_0x4a125d+='\x20\x20\x20'+(_0x431e91+0x1)+'.\x20'+_0x512a3a+'\x0a';}),_0x4a125d+='\x0a'),_0x1e3757[_0x37269d(0x124)]>0x0&&(_0x4a125d+=_0x37269d(0x10c)+_0x1e3757[_0x37269d(0x124)]+_0x37269d(0x123),_0x1e3757['forEach']((_0x5a3fcd,_0x43598c)=>{const _0x41661d=_0x37269d;_0x4a125d+=_0x41661d(0x107)+(_0x43598c+0x1)+'.\x20'+_0x5a3fcd+'\x0a';}),_0x4a125d+='\x0a'),_0x167b9f[_0x37269d(0x124)]>0x0&&(_0x4a125d+=_0x37269d(0x140)+_0x167b9f['length']+_0x37269d(0x123),_0x167b9f[_0x37269d(0x131)](_0x21b944=>{const _0x26fb71=_0x37269d;_0x4a125d+=_0x26fb71(0x149)+_0x21b944[_0x26fb71(0x14a)]+_0x26fb71(0x115)+(_0x21b944['time']||'-')+'\x0a';}),_0x4a125d+='\x0a'),_0x4a125d+='----------------------------------\x0a\x0a');}document[_0x37269d(0x11d)]('summary')[_0x37269d(0x12c)]=_0x4a125d[_0x37269d(0x199)]()||_0x37269d(0x196),setTimeout(()=>{const _0x425518=_0x37269d,_0x311ded=document['getElementById']('summary');_0x311ded&&_0x311ded[_0x425518(0x15c)]({'behavior':_0x425518(0xde),'block':_0x425518(0x105)});},0x3c);}function shareOnWhatsApp(){const _0x147e2b=_0x502d,_0x1e0d5d=document[_0x147e2b(0x11d)]('summary')[_0x147e2b(0x12c)];if(!_0x1e0d5d['trim']())return void alert(_0x147e2b(0x170));const _0x331658=_0x147e2b(0x127)+encodeURIComponent(_0x1e0d5d);window[_0x147e2b(0xff)](_0x331658,_0x147e2b(0x139));}function onMarksInput(_0x4dd906,_0xab3e90){const _0x4b9ad9=_0x502d;if(!currentClass)return;testMarks[currentClass]||(testMarks[currentClass]={});const _0x2bda90=(_0xab3e90[_0x4b9ad9(0x12c)]||'')[_0x4b9ad9(0xfb)]()[_0x4b9ad9(0x199)]();testMarks[currentClass][_0x4dd906]=_0x2bda90;const _0x343e22=Number(document[_0x4b9ad9(0x11d)](_0x4b9ad9(0x18b))['value']||'');if(!isNaN(_0x343e22)&&_0x343e22>0x0){if(''===_0x2bda90)_0xab3e90['classList'][_0x4b9ad9(0x179)]('invalid');else{const _0xc39ce1=Number(_0x2bda90);isNaN(_0xc39ce1)||_0xc39ce1<0x0||_0xc39ce1>_0x343e22?_0xab3e90[_0x4b9ad9(0x197)][_0x4b9ad9(0x18e)](_0x4b9ad9(0x187)):_0xab3e90[_0x4b9ad9(0x197)][_0x4b9ad9(0x179)](_0x4b9ad9(0x187));}}else _0xab3e90['classList'][_0x4b9ad9(0x179)](_0x4b9ad9(0x187));}function onTotalMarksChange(){const _0x5c6248=_0x502d;applyTotalToInputs();const _0x48381d=Number(document[_0x5c6248(0x11d)](_0x5c6248(0x18b))[_0x5c6248(0x12c)]||'');if(!currentClass||!testMarks[currentClass])return;document[_0x5c6248(0x11d)](_0x5c6248(0xe8))[_0x5c6248(0x16f)](_0x5c6248(0x157))[_0x5c6248(0x131)](_0x19402e=>{const _0x2fdf13=_0x5c6248,_0x3f0c21=_0x19402e[_0x2fdf13(0x12c)];if(''===_0x3f0c21)return void _0x19402e[_0x2fdf13(0x197)][_0x2fdf13(0x179)](_0x2fdf13(0x187));const _0xf32ebf=Number(_0x3f0c21);isNaN(_0xf32ebf)||_0xf32ebf<0x0||_0x48381d&&_0xf32ebf>_0x48381d?_0x19402e[_0x2fdf13(0x197)][_0x2fdf13(0x18e)](_0x2fdf13(0x187)):_0x19402e[_0x2fdf13(0x197)][_0x2fdf13(0x179)](_0x2fdf13(0x187));});}function applyTotalToInputs(){const _0x46389d=_0x502d,_0x3b3fee=document[_0x46389d(0x11d)](_0x46389d(0x18b))['value'],_0x1108f7=document['getElementById'](_0x46389d(0xe8));if(!_0x1108f7)return;_0x1108f7[_0x46389d(0x16f)]('.marks-input')[_0x46389d(0x131)](_0x20b386=>{const _0x2e005c=_0x46389d;_0x3b3fee&&''!==_0x3b3fee?_0x20b386[_0x2e005c(0xf7)](_0x2e005c(0x125),_0x3b3fee):_0x20b386['removeAttribute']('max');});}function generateMarksResult(){const _0x48d438=_0x502d;if(!currentClass)return void alert(_0x48d438(0x109));const _0x299ca9=(document[_0x48d438(0x11d)]('subjectInput')['value']||'')[_0x48d438(0x199)](),_0x2d0f12=(document[_0x48d438(0x11d)](_0x48d438(0x168))[_0x48d438(0x12c)]||'')[_0x48d438(0x199)](),_0xb7c321=document[_0x48d438(0x11d)]('totalMarksInput')[_0x48d438(0x12c)]||'',_0x1c89a4=''===_0xb7c321?null:Number(_0xb7c321),_0x5e6da4=studentData[currentClass]||[];testMarks[currentClass]||(testMarks[currentClass]={});const _0x10e0b6=[],_0x1e9408=[];if(_0x5e6da4[_0x48d438(0x131)](_0x468959=>{const _0x432591=_0x48d438,_0x291b4d=(testMarks[currentClass][_0x468959]||'')[_0x432591(0xfb)]()['trim']();if(''===_0x291b4d)_0x1e9408[_0x432591(0x15f)]({'name':_0x468959,'mark':null});else{const _0x151e46=Number(_0x291b4d);isNaN(_0x151e46)||_0x151e46<0x0||null!==_0x1c89a4&&_0x151e46>_0x1c89a4?(_0x10e0b6[_0x432591(0x15f)](_0x468959),_0x1e9408[_0x432591(0x15f)]({'name':_0x468959,'mark':_0x291b4d,'invalid':!0x0})):_0x1e9408[_0x432591(0x15f)]({'name':_0x468959,'mark':_0x151e46});}}),_0x10e0b6[_0x48d438(0x124)]>0x0){const _0x2a1dc2=_0x10e0b6[_0x48d438(0xf5)](0x0,0x5)[_0x48d438(0x119)](',\x20');alert(_0x48d438(0x16a)+_0x2a1dc2+(_0x10e0b6['length']>0x5?'...':''));}let _0x81d5e3='';_0x81d5e3+=_0x48d438(0x191)+currentClass+_0x48d438(0xed),_0x299ca9&&(_0x81d5e3+=_0x48d438(0x13d)+_0x299ca9+'\x0a'),_0x2d0f12&&(_0x81d5e3+=_0x48d438(0xf0)+_0x2d0f12+'\x0a'),null!==_0x1c89a4&&(_0x81d5e3+=_0x48d438(0x192)+_0x1c89a4+'\x0a'),_0x81d5e3+='\x0a';const _0x2c8260=_0x1e9408[_0x48d438(0x19c)](_0x353ecc=>null!==_0x353ecc[_0x48d438(0x185)]&&!_0x353ecc['invalid'])[_0x48d438(0xf5)]()['sort']((_0x134645,_0x434112)=>Number(_0x434112[_0x48d438(0x185)])-Number(_0x134645[_0x48d438(0x185)])),_0x14409e=_0x1e9408[_0x48d438(0x19c)](_0x288b00=>null===_0x288b00[_0x48d438(0x185)])[_0x48d438(0x111)](_0x22a4fd=>_0x22a4fd[_0x48d438(0x14a)]),_0x50fb8e=_0x1e9408['filter'](_0x13ce28=>_0x13ce28[_0x48d438(0x187)]);if(_0x2c8260[_0x48d438(0x124)]>0x0){_0x2c8260[_0x48d438(0x131)]((_0x34bf7f,_0x3a0110)=>{const _0x2078f5=_0x48d438;_0x81d5e3+=_0x3a0110+0x1+'.\x20'+_0x34bf7f[_0x2078f5(0x14a)]+':\x20'+_0x34bf7f[_0x2078f5(0x185)]+'\x0a';});let _0x3ccc6d=0x0,_0x4fe36f=0x0,_0x430fbc=-0x1/0x0,_0x5a7ea0=[],_0x3678b9=0x1/0x0,_0x550555=[];_0x2c8260[_0x48d438(0x131)](_0x5584d8=>{const _0x4ce013=_0x48d438,_0x52ab0a=Number(_0x5584d8[_0x4ce013(0x185)]);_0x3ccc6d+=_0x52ab0a,_0x4fe36f++,_0x52ab0a>_0x430fbc?(_0x430fbc=_0x52ab0a,_0x5a7ea0=[_0x5584d8[_0x4ce013(0x14a)]]):_0x52ab0a===_0x430fbc&&_0x5a7ea0[_0x4ce013(0x15f)](_0x5584d8[_0x4ce013(0x14a)]),_0x52ab0a<_0x3678b9?(_0x3678b9=_0x52ab0a,_0x550555=[_0x5584d8[_0x4ce013(0x14a)]]):_0x52ab0a===_0x3678b9&&_0x550555[_0x4ce013(0x15f)](_0x5584d8['name']);}),_0x81d5e3+='\x0a',_0x5a7ea0[_0x48d438(0x124)]>0x0&&(_0x81d5e3+='Highest:\x20'+_0x5a7ea0[_0x48d438(0x119)](',\x20')+_0x48d438(0x152)+_0x430fbc+'\x0a'),_0x550555['length']>0x0&&_0x3678b9!==0x1/0x0&&(_0x81d5e3+='Lowest:\x20'+_0x550555[_0x48d438(0x119)](',\x20')+_0x48d438(0x152)+_0x3678b9+'\x0a');const _0x3438fc=_0x3ccc6d/_0x4fe36f;_0x81d5e3+=_0x48d438(0x173)+(Number[_0x48d438(0x128)](_0x3438fc)?_0x3438fc[_0x48d438(0x177)](0x2):'-')+'\x0a';}else _0x81d5e3+=_0x48d438(0x13a);_0x14409e[_0x48d438(0x124)]>0x0&&(_0x81d5e3+=_0x48d438(0xdb),_0x14409e[_0x48d438(0x131)]((_0x26578e,_0x328deb)=>{_0x81d5e3+=_0x328deb+0x1+'.\x20'+_0x26578e+'\x0a';})),_0x50fb8e['length']>0x0&&(_0x81d5e3+=_0x48d438(0xfc),_0x50fb8e[_0x48d438(0x131)]((_0x54d55f,_0x38a321)=>{_0x81d5e3+=_0x38a321+0x1+'.\x20'+_0x54d55f['name']+':\x20'+_0x54d55f['mark']+'\x0a';})),document[_0x48d438(0x11d)]('marksSummary')[_0x48d438(0x12c)]=_0x81d5e3[_0x48d438(0x199)](),setTimeout(()=>{const _0x400a3e=_0x48d438,_0x456910=document[_0x400a3e(0x11d)](_0x400a3e(0x184));_0x456910&&_0x456910[_0x400a3e(0x15c)]({'behavior':'smooth','block':_0x400a3e(0x105)});},0x3c);}function shareMarksOnWhatsApp(){const _0xf038c6=_0x502d,_0x4b3774=document[_0xf038c6(0x11d)](_0xf038c6(0x184))['value'];if(!_0x4b3774[_0xf038c6(0x199)]())return void alert('No\x20marks\x20summary\x20to\x20share!');const _0x559e22='https://wa.me/?text='+encodeURIComponent(_0x4b3774);window[_0xf038c6(0xff)](_0x559e22,_0xf038c6(0x139));}function _0x502d(_0x35af21,_0x16a758){_0x35af21=_0x35af21-0xd1;const _0x2e0862=_0x2e08();let _0x502d11=_0x2e0862[_0x35af21];return _0x502d11;}function downloadAttendanceImage(){const _0x40a715=_0x502d;if(!currentClass)return void alert(_0x40a715(0x11c));const _0x244bf8=Object[_0x40a715(0x178)](attendance[currentClass]||{}),_0x3397c4=_0x244bf8[_0x40a715(0x19c)](([_0x2c771a,_0x2e7386])=>_0x40a715(0x144)===_0x2e7386[_0x40a715(0x11e)]||_0x40a715(0x12d)===_0x2e7386[_0x40a715(0x11e)])[_0x40a715(0x111)](([_0x50b413,_0x4ec1f3])=>({'name':_0x50b413,'isLate':'Late'===_0x4ec1f3[_0x40a715(0x11e)]})),_0x5124ed=_0x244bf8[_0x40a715(0x19c)](([_0xfb2746,_0xed353b])=>_0x40a715(0x122)===_0xed353b[_0x40a715(0x11e)])[_0x40a715(0x111)](([_0x5245d5])=>_0x5245d5),_0x51170d=_0x244bf8['filter'](([_0xe8a7ef,_0x256c61])=>_0x40a715(0x12d)===_0x256c61[_0x40a715(0x11e)])[_0x40a715(0x111)](([_0x59f587,_0xd6403])=>({'name':_0x59f587,'time':_0xd6403[_0x40a715(0xfe)]||'-'}));if(0x0===_0x3397c4['length']&&0x0===_0x5124ed[_0x40a715(0x124)]&&0x0===_0x51170d['length'])return void alert(_0x40a715(0x196));const _0x4ebeb7=(_0x1a817e,_0x31511a={})=>_0x1a817e&&0x0!==_0x1a817e[_0x40a715(0x124)]?_0x1a817e[_0x40a715(0x111)]((_0x175469,_0x5ea9cb)=>{const _0x2f88b9=_0x40a715;if(_0x2f88b9(0x126)==typeof _0x175469)return _0x5ea9cb+0x1+_0x2f88b9(0xf1)+escapeHtml(_0x175469)+_0x2f88b9(0xec);{const _0x48091e=_0x175469[_0x2f88b9(0xfd)]&&_0x31511a[_0x2f88b9(0x15a)]?_0x2f88b9(0x17a):'';return _0x5ea9cb+0x1+'.\x20<strong>'+escapeHtml(_0x175469[_0x2f88b9(0x14a)])+_0x2f88b9(0xec)+_0x48091e;}})[_0x40a715(0x119)](_0x40a715(0xe0)):'-',_0x2ecd9a=document[_0x40a715(0x160)](_0x40a715(0xd8));var _0x2593ef;_0x2ecd9a[_0x40a715(0x138)][_0x40a715(0x188)]=_0x40a715(0xe5),_0x2ecd9a['style'][_0x40a715(0x12b)]=_0x40a715(0xe1),_0x2ecd9a[_0x40a715(0x138)][_0x40a715(0xe6)]=_0x40a715(0xe2),_0x2ecd9a[_0x40a715(0x138)][_0x40a715(0x136)]=_0x40a715(0x135),_0x2ecd9a[_0x40a715(0x138)][_0x40a715(0x133)]=_0x40a715(0x106),_0x2ecd9a[_0x40a715(0x138)][_0x40a715(0x14d)]=_0x40a715(0x134),_0x2ecd9a[_0x40a715(0x138)][_0x40a715(0xf2)]=_0x40a715(0x103),_0x2ecd9a[_0x40a715(0x138)][_0x40a715(0xef)]='border-box',_0x2ecd9a[_0x40a715(0x138)]['boxShadow']='0\x2010px\x2030px\x20rgba(20,30,60,0.12)',_0x2ecd9a[_0x40a715(0x138)][_0x40a715(0x120)]=_0x40a715(0x137),_0x2ecd9a[_0x40a715(0x171)]=_0x40a715(0xeb)+escapeHtml(currentClass)+'\x20‚Äî\x20Attendance</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:right;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:13px;color:#6b7280;\x22>'+new Date()[_0x40a715(0x198)](void 0x0,{'day':_0x40a715(0xf8),'month':_0x40a715(0x132),'year':_0x40a715(0xf8)})+_0x40a715(0x16d)+(_0x3397c4[_0x40a715(0x124)]+_0x5124ed[_0x40a715(0x124)])+'</strong></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20style=\x22display:flex;gap:14px;margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20<!--\x20Present\x20card\x20(soft\x20green\x20gradient)\x20-->\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:1;background:linear-gradient(90deg,\x20rgba(236,253,245,1)\x200%,\x20rgba(255,255,255,0)\x20100%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:10px;padding:12px;border:1px\x20solid\x20rgba(16,185,129,0.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:0\x206px\x2018px\x20rgba(16,185,129,0.03);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:700;font-size:14px;display:flex;align-items:center;gap:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚úÖ\x20Present\x20<span\x20style=\x22font-weight:600;color:#10b981;\x22>('+_0x3397c4[_0x40a715(0x124)]+_0x40a715(0x164)+_0x4ebeb7(_0x3397c4,{'showLateBadge':!0x0})+_0x40a715(0x18d)+_0x5124ed[_0x40a715(0x124)]+')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:13px;line-height:1.45;color:#111827;min-height:60px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ebeb7(_0x5124ed)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<!--\x20Late\x20card\x20(prominent\x20red)\x20-->\x0a\x20\x20\x20\x20<div\x20style=\x22background:linear-gradient(90deg,\x20rgba(255,241,242,1),\x20rgba(255,255,255,0));\x20padding:12px;\x20border-radius:10px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:1px\x20solid\x20rgba(235,87,87,0.08);\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:700;font-size:14px;margin-bottom:8px;display:flex;align-items:center;gap:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22background:#fff0f0;border-radius:8px;padding:6px\x208px;border:1px\x20solid\x20rgba(231,76,60,0.06);font-weight:700;color:#e11d48;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20üïí\x20Late\x20Comers\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22font-weight:600;color:#e11d48;font-size:13px;\x22>('+_0x51170d['length']+_0x40a715(0x102)+(_0x2593ef=_0x51170d,_0x2593ef&&0x0!==_0x2593ef[_0x40a715(0x124)]?_0x2593ef[_0x40a715(0x111)]((_0x10897a,_0x23b470)=>_0x23b470+0x1+_0x40a715(0xd5)+escapeHtml(_0x10897a[_0x40a715(0x14a)])+_0x40a715(0x175)+escapeHtml(_0x10897a[_0x40a715(0xfe)])+_0x40a715(0xe7))[_0x40a715(0x119)]('<br>'):'-')+_0x40a715(0x117),_0x2ecd9a[_0x40a715(0x138)][_0x40a715(0x10e)]=_0x40a715(0x11f),_0x2ecd9a[_0x40a715(0x138)][_0x40a715(0x156)]='-9999px',document[_0x40a715(0x16c)][_0x40a715(0x10f)](_0x2ecd9a),html2canvas(_0x2ecd9a,{'scale':0x2,'useCORS':!0x0})[_0x40a715(0x167)](_0x45cfb3=>{const _0x2a2e27=_0x40a715;try{const _0x233259=document[_0x2a2e27(0x160)]('a');_0x233259[_0x2a2e27(0xfa)]=currentClass+'-attendance-'+getLocalISODate()+_0x2a2e27(0x18f),_0x233259['href']=_0x45cfb3['toDataURL'](_0x2a2e27(0x11a)),document[_0x2a2e27(0x16c)][_0x2a2e27(0x10f)](_0x233259),_0x233259[_0x2a2e27(0x153)](),_0x233259['remove']();}finally{_0x2ecd9a&&_0x2ecd9a[_0x2a2e27(0x13f)]&&document[_0x2a2e27(0x16c)]['removeChild'](_0x2ecd9a);}})['catch'](_0x51ef98=>{const _0x1e009b=_0x40a715;_0x2ecd9a&&_0x2ecd9a[_0x1e009b(0x13f)]&&document['body']['removeChild'](_0x2ecd9a),console[_0x1e009b(0xd7)](_0x51ef98),alert(_0x1e009b(0x145));});}async function submitAttendance(){const _0x106fba=_0x502d;if(!window['db'])return void alert(_0x106fba(0x146));if(!currentClass)return void alert(_0x106fba(0x109));const _0x2e5db0=findUnmarkedStudents(currentClass);if(_0x2e5db0['length']>0x0){const _0x5afc70=_0x2e5db0[_0x106fba(0xf5)](0x0,0xc)[_0x106fba(0x119)](',\x20');return void alert(_0x106fba(0x12e)+currentClass+'\x20before\x20submitting.\x0aUnmarked\x20('+_0x2e5db0[_0x106fba(0x124)]+_0x106fba(0x169)+_0x5afc70+(_0x2e5db0[_0x106fba(0x124)]>0xc?'...':''));}const _0x14e842=attendance[currentClass]||{},_0x13acf2=Object[_0x106fba(0x178)](_0x14e842)['filter'](([_0x5a41fc,_0x5bd216])=>_0x5bd216&&_0x5bd216['status']);if(0x0===_0x13acf2[_0x106fba(0x124)])return void alert(_0x106fba(0xe9));const _0x5927da=getLocalISODate();try{if(await checkAttendanceSubmittedForClassDate(currentClass,_0x5927da))return showToast(currentClass+_0x106fba(0x18c)+_0x5927da+'\x20has\x20already\x20been\x20submitted.',{'type':_0x106fba(0x163)}),void setShareAndDownloadVisibility(!0x0);}catch(_0x3c01b4){if(console[_0x106fba(0xd7)](_0x106fba(0x154),_0x3c01b4),!confirm(_0x106fba(0x158)))return;}if(!loggedInTeacher){if(!confirm('No\x20teacher\x20is\x20currently\x20signed\x20in.\x20The\x20submitted\x20records\x20will\x20not\x20have\x20a\x20\x22faculty\x22\x20value.\x20Do\x20you\x20want\x20to\x20continue?\x20(Sign\x20in\x20recommended)'))return;}if(!confirm(_0x106fba(0x172)+currentClass+'\x20('+_0x13acf2['length']+_0x106fba(0xe4)))return;const _0x402a8e=window['collection'](window['db'],_0x106fba(0x194));try{const _0xb65869=_0x13acf2[_0x106fba(0x111)](([_0x6cb996,_0x4ec5f8])=>{const _0x400925=_0x106fba,_0x494de8=_0x4ec5f8[_0x400925(0x11e)]||null,_0x6c7910={'name':_0x6cb996,'className':currentClass,'originalStatus':_0x494de8,'status':_0x400925(0x122)===_0x494de8?_0x400925(0x122):'Present','isLate':_0x400925(0x12d)===_0x494de8,'date':_0x5927da,'faculty':loggedInTeacher||null,'createdAt':window[_0x400925(0x150)]?window[_0x400925(0x150)][_0x400925(0xe3)](new Date()):new Date()};return window[_0x400925(0x189)](_0x402a8e,_0x6c7910);});await Promise[_0x106fba(0x143)](_0xb65869),showToast(_0x106fba(0xdc)+_0x13acf2['length']+_0x106fba(0x129)+currentClass+'.',{'type':_0x106fba(0x163),'duration':0xaf0}),setShareAndDownloadVisibility(!0x0);}catch(_0x5c2d59){console[_0x106fba(0xd7)](_0x106fba(0x100),_0x5c2d59),alert(_0x106fba(0x130));}}function setShareAndDownloadVisibility(_0x27471c){const _0x526f4b=_0x502d,_0x10a90b=document[_0x526f4b(0x11d)](_0x526f4b(0x166)),_0x2dc2e2=document[_0x526f4b(0x11d)](_0x526f4b(0x17b));_0x10a90b&&(_0x10a90b['style']['display']=_0x27471c?'':'none'),_0x2dc2e2&&(_0x2dc2e2[_0x526f4b(0x138)][_0x526f4b(0x11b)]=_0x27471c?'':_0x526f4b(0x112));}document[_0x4850b5(0x10b)](_0x4850b5(0x13e),function(){showAuthModal(),setShareAndDownloadVisibility(!0x1);});

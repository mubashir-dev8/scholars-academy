const _0x2e5c61=_0x36ad;(function(_0x582302,_0x33a8ec){const _0x48f6b8=_0x36ad,_0x166c53=_0x582302();while(!![]){try{const _0x628c2e=parseInt(_0x48f6b8(0x16c))/0x1*(-parseInt(_0x48f6b8(0x1c4))/0x2)+parseInt(_0x48f6b8(0x1a7))/0x3+parseInt(_0x48f6b8(0x1cb))/0x4+parseInt(_0x48f6b8(0x1c2))/0x5+-parseInt(_0x48f6b8(0x1a0))/0x6*(parseInt(_0x48f6b8(0x1da))/0x7)+parseInt(_0x48f6b8(0x1bb))/0x8+-parseInt(_0x48f6b8(0x1a6))/0x9*(-parseInt(_0x48f6b8(0x163))/0xa);if(_0x628c2e===_0x33a8ec)break;else _0x166c53['push'](_0x166c53['shift']());}catch(_0x1b6965){_0x166c53['push'](_0x166c53['shift']());}}}(_0x45a6,0xe843d));function _0x36ad(_0x33a268,_0x3deb6b){const _0x45a68f=_0x45a6();return _0x36ad=function(_0x36ad4a,_0x1c7e5d){_0x36ad4a=_0x36ad4a-0x12f;let _0x566135=_0x45a68f[_0x36ad4a];return _0x566135;},_0x36ad(_0x33a268,_0x3deb6b);}function clearResult(){const _0x35b662=_0x36ad;document[_0x35b662(0x13a)]('summary')[_0x35b662(0x158)]='';}function clearMarksResult(){const _0x2f5fca=_0x36ad;document[_0x2f5fca(0x13a)](_0x2f5fca(0x1d7))['value']='';}function loadClass(_0x2889ef){const _0x398ee1=_0x36ad,_0x2cd20f=currentClass;_0x2cd20f&&_0x2cd20f!==_0x2889ef&&(attendance[_0x2cd20f]={},testMarks[_0x2cd20f]={}),currentClass=_0x2889ef;const _0x4cf50c=document[_0x398ee1(0x13a)](_0x398ee1(0x168))['classList'][_0x398ee1(0x13c)]('active'),_0x51ff06=document[_0x398ee1(0x13a)](_0x398ee1(0x146))[_0x398ee1(0x177)][_0x398ee1(0x13c)](_0x398ee1(0x157));_0x4cf50c?loadMarksClass(_0x2889ef):_0x51ff06?loadAnalyticsClass(_0x2889ef):loadAttendanceClass(_0x2889ef);const _0x37a3f3=getLocalISODate();checkAttendanceSubmittedForClassDate(_0x2889ef,_0x37a3f3)[_0x398ee1(0x16e)](_0x94b9d4=>{setShareAndDownloadVisibility(Boolean(_0x94b9d4));})[_0x398ee1(0x14b)](_0x4ce189=>{const _0x4bfcf3=_0x398ee1;setShareAndDownloadVisibility(!0x1),console[_0x4bfcf3(0x17b)](_0x4bfcf3(0x1eb),_0x4ce189);});}function loadAttendanceClass(_0x3be91b){const _0x1bd5a4=_0x36ad;document['getElementById'](_0x1bd5a4(0x185))['value']='',attendance[_0x3be91b]||(attendance[_0x3be91b]={}),currentClass=_0x3be91b;const _0x326d5d=studentData[_0x3be91b]||[];_0x326d5d[_0x1bd5a4(0x1b0)](_0x3c4eed=>{attendance[_0x3be91b][_0x3c4eed]||(attendance[_0x3be91b][_0x3c4eed]={'status':null,'time':''});});const _0xf0c3a3=document[_0x1bd5a4(0x13a)](_0x1bd5a4(0x1ec));_0xf0c3a3[_0x1bd5a4(0x193)]=_0x1bd5a4(0x133)+_0x3be91b+_0x1bd5a4(0x1e1),_0x326d5d[_0x1bd5a4(0x1b0)](_0x3b3f29=>{const _0x4b8040=_0x1bd5a4,_0x43f61d=attendance[_0x3be91b][_0x3b3f29]||{'status':null,'time':''},_0x2413dc=_0x4b8040(0x145)===_0x43f61d[_0x4b8040(0x16a)],_0x30cefd='Present'===_0x43f61d[_0x4b8040(0x16a)]?_0x4b8040(0x14e):'',_0x3d93e1='Absent'===_0x43f61d[_0x4b8040(0x16a)]?'absent-selected':'',_0x473377=_0x4b8040(0x145)===_0x43f61d[_0x4b8040(0x16a)]?_0x4b8040(0x1e9):'',_0x54eb8c=document[_0x4b8040(0x131)](_0x4b8040(0x172));_0x54eb8c[_0x4b8040(0x17a)]=_0x4b8040(0x1c5),_0x54eb8c[_0x4b8040(0x193)]=_0x4b8040(0x179)+escapeHtml(_0x3b3f29)+_0x4b8040(0x18b)+escapeJs(_0x3b3f29)+_0x4b8040(0x1e7)+escapeJs(_0x3b3f29)+_0x4b8040(0x15d)+(_0x2413dc?'':_0x4b8040(0x16b))+'\x22\x20'+(_0x2413dc?'':_0x4b8040(0x189))+_0x4b8040(0x160)+escapeHtml(_0x43f61d[_0x4b8040(0x14f)]||'')+_0x4b8040(0x1a4)+escapeJs(_0x3b3f29)+_0x4b8040(0x165)+(_0x473377?_0x4b8040(0x143):'')+_0x4b8040(0x153)+escapeJs(_0x3b3f29)+_0x4b8040(0x15a)+(_0x30cefd?_0x4b8040(0x141):'')+_0x4b8040(0x13d)+escapeJs(_0x3b3f29)+_0x4b8040(0x135)+(_0x3d93e1?_0x4b8040(0x14c):'')+_0x4b8040(0x170),_0xf0c3a3['appendChild'](_0x54eb8c);}),setTimeout(()=>{const _0x49c6c5=_0x1bd5a4,_0x36398e=_0xf0c3a3['getBoundingClientRect']()[_0x49c6c5(0x136)]+window[_0x49c6c5(0x140)]-0x3c;window['scrollTo']({'top':_0x36398e,'behavior':'smooth'});},0x50);}function _0x45a6(){const _0x599d6d=['\x20students\x20in\x20','193998BiWetU','left','Timestamp','No\x20teacher\x20is\x20currently\x20signed\x20in.\x20The\x20submitted\x20records\x20will\x20not\x20have\x20a\x20\x22faculty\x22\x20value.\x20Do\x20you\x20want\x20to\x20continue?\x20(Sign\x20in\x20recommended)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22btn-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22mark(\x27','fixed','9PZiuPU','1910007HCJrPk','setAttribute','color','.\x20<strong>','linear-gradient(135deg,\x20#f0f7ff\x200%,\x20#ffffff\x2040%,\x20#f7fafc\x20100%)','Failed\x20to\x20submit\x20attendance.\x20Check\x20console\x20for\x20details.','\x20\x20\x20-\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:12px;color:#9ca3af;margin-top:6px;\x22>Class\x20Strength:\x20<strong>','Please\x20select\x20a\x20class\x20and\x20mark\x20attendance\x20first.','forEach','Present','\x20before\x20submitting.\x0aUnmarked\x20(','\x20-\x20','center','\x20-\x20Enter\x20Test\x20Marks</h2>','</strong>\x20‚Äî\x20','<h2\x20style=\x22margin-top:6px;\x20text-align:left;\x22>','isFinite','\x0aAbsent\x20students\x0a','.\x20<span\x20style=\x22color:#e74c3c;font-weight:600;\x22><strong>','2232784mpOCWD','parentNode','-attendance-','</strong></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20style=\x22display:flex;gap:14px;margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20<!--\x20Present\x20card\x20(soft\x20green\x20gradient)\x20-->\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:1;background:linear-gradient(90deg,\x20rgba(236,253,245,1)\x200%,\x20rgba(255,255,255,0)\x20100%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:10px;padding:12px;border:1px\x20solid\x20rgba(16,185,129,0.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:0\x206px\x2018px\x20rgba(16,185,129,0.03);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:700;font-size:14px;display:flex;align-items:center;gap:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚úÖ\x20Present\x20<span\x20style=\x22font-weight:600;color:#10b981;\x22>(','padding','attendance_records','image/png','8207590ugyBxp','slice','1640yBlbSa','student','No\x20attendance\x20marked!','No\x20attendance\x20to\x20share!','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','numeric','Attendance\x20submitted\x20for\x20','845260wbDFTW','\x20‚Äî\x20Attendance</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:right;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:13px;color:#6b7280;\x22>','push','collection','filter','-9999px','scrollIntoView','borderRadius','absent-selected','marksStudentsList','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;gap:8px;align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22analytics-btn\x22\x20onclick=\x22showStudentDetails(\x27','https://wa.me/?text=','marksSummary','style','<br>','119niNmSJ','toString','Lowest:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20class=\x22marks-input\x22\x20type=\x22number\x22\x20placeholder=\x22Marks\x22\x20min=\x220\x22\x20oninput=\x22onMarksInput(\x27','Absent','border','\x20‚Äî\x20','\x20Standard\x20-\x20Mark\x20Attendance</h2>','</strong>','appendChild','0\x20auto','‚úÖ\x20Present\x20(','isLate','\x27,\x20this)\x22\x20oninput=\x22onTimeChange(\x27','.marks-input','late-selected','.btn-group\x20button','checkAttendanceSubmittedForClassDate\x20error:','studentsList','üïí\x20Late\x20Comers\x20(','):\x0a','Failed\x20to\x20verify\x20if\x20attendance\x20already\x20submitted\x20(see\x20console).\x20Do\x20you\x20still\x20want\x20to\x20submit?','analyticsStudentsList','Chapter:\x20','):\x20','940px','createElement','Please\x20select\x20a\x20class\x20first.','<h2\x20style=\x22margin-top:6px;\x22>','\x27)\x22>Show\x20Full\x20Details</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x27,\x20\x27Absent\x27,\x20this)\x22\x20','top','none','href','maxWidth','getElementById','sort','contains','>Present</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22mark(\x27','\x20students)?','Failed\x20to\x20create\x20image.\x20See\x20console\x20for\x20details.','scrollY','class=\x22present-selected\x22','\x20üïí','class=\x22late-selected\x22','subjectInput','Late','analyticsSection','length','mark','No\x20valid\x20marks\x20entered\x20yet.\x0a',')</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:13px;line-height:1.45;color:#111827;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','catch','class=\x22absent-selected\x22','open','present-selected','time','querySelectorAll','info','add','>Late</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22mark(\x27','Subject:\x20','toLocaleDateString','1px\x20solid\x20rgba(22,\x2024,\x2035,\x200.06)','active','value','Some\x20marks\x20are\x20invalid\x20or\x20exceed\x20Total\x20Marks.\x20First\x20few:\x20','\x27,\x20\x27Present\x27,\x20this)\x22\x20','getBoundingClientRect','Submit\x20attendance\x20for\x20','\x27,\x20this)\x22\x20title=\x22Enter\x20arrival\x20time\x20if\x20late\x20(e.g.\x207:20\x20pm)\x22\x20style=\x22','showLateBadge','removeChild','\x20value=\x22','join','‚ùå\x20Absent\x20(','1518380nMdNoZ','Please\x20mark\x20all\x20students\x20for\x20','\x27,\x20\x27Late\x27,\x20this)\x22\x20','\x0aInvalid\x20marks\x0a','scrollTo','marksSection','totalMarksInput','status','display:none;','1731uMeTSQ','_blank','then','\x20first.\x0aUnmarked\x20(','>Absent</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','14px','div','...','max','boxShadow','map','classList','üìö\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22name\x22>','className','error','Failed\x20to\x20verify\x20existing\x20attendance:','Inter,\x20\x27Segoe\x20UI\x27,\x20Roboto,\x20Helvetica,\x20Arial,\x20sans-serif','display','Total\x20Marks:\x20','invalid','#1f2937','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<!--\x20Late\x20card\x20(prominent\x20red)\x20-->\x0a\x20\x20\x20\x20<div\x20style=\x22background:linear-gradient(90deg,\x20rgba(255,241,242,1),\x20rgba(255,255,255,0));\x20padding:12px;\x20border-radius:10px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:1px\x20solid\x20rgba(235,87,87,0.08);\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:700;font-size:14px;margin-bottom:8px;display:flex;align-items:center;gap:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22background:#fff0f0;border-radius:8px;padding:6px\x208px;border:1px\x20solid\x20rgba(231,76,60,0.06);font-weight:700;color:#e11d48;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20üïí\x20Late\x20Comers\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22font-weight:600;color:#e11d48;font-size:13px;\x22>(','background','summary','remove','querySelector','No\x20marks\x20summary\x20to\x20share!','disabled','margin','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20class=\x22time-input\x22\x20type=\x22text\x22\x20placeholder=\x22Late\x20Mark\x20time\x22\x20onchange=\x22onTimeChange(\x27','toDataURL','addEventListener','\x27,\x20this)\x22\x20value=\x22','\x20\x20\x20','name','chapterInput','\x20attendance\x20for\x20','innerHTML','removeAttribute','download','all','addDoc','smooth','trim','DOMContentLoaded','.student',')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:13px;line-height:1.45;color:#111827;min-height:60px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22name\x22>','position'];_0x45a6=function(){return _0x599d6d;};return _0x45a6();}function loadMarksClass(_0x1a7c01){const _0x41d084=_0x36ad;document['getElementById']('marksSummary')[_0x41d084(0x158)]='',testMarks[_0x1a7c01]||(testMarks[_0x1a7c01]={}),currentClass=_0x1a7c01;const _0x488dbd=studentData[_0x1a7c01]||[];_0x488dbd[_0x41d084(0x1b0)](_0x3b37ac=>{void 0x0===testMarks[_0x1a7c01][_0x3b37ac]&&(testMarks[_0x1a7c01][_0x3b37ac]='');});const _0x26c9c6=document[_0x41d084(0x13a)](_0x41d084(0x1d4));_0x26c9c6[_0x41d084(0x193)]=_0x41d084(0x1b7)+_0x1a7c01+_0x41d084(0x1b5),_0x488dbd[_0x41d084(0x1b0)](_0x274ccb=>{const _0x2501e2=_0x41d084,_0x1053a9=testMarks[_0x1a7c01][_0x274ccb]||'',_0x2a474e=document[_0x2501e2(0x131)](_0x2501e2(0x172));_0x2a474e['className']='student',_0x2a474e[_0x2501e2(0x193)]=_0x2501e2(0x179)+escapeHtml(_0x274ccb)+_0x2501e2(0x1dd)+escapeJs(_0x274ccb)+_0x2501e2(0x18e)+escapeHtml(_0x1053a9)+'\x22\x20title=\x22Enter\x20marks\x20obtained\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x26c9c6[_0x2501e2(0x1e3)](_0x2a474e);}),applyTotalToInputs(),setTimeout(()=>{const _0x2c365e=_0x41d084,_0x274884=_0x26c9c6['getBoundingClientRect']()[_0x2c365e(0x136)]+window[_0x2c365e(0x140)]-0x3c;window[_0x2c365e(0x167)]({'top':_0x274884,'behavior':_0x2c365e(0x198)});},0x50);}function loadAnalyticsClass(_0x1c5860){const _0x127afb=_0x36ad;document[_0x127afb(0x13a)](_0x127afb(0x185))['value']='',attendance[_0x1c5860]||(attendance[_0x1c5860]={}),testMarks[_0x1c5860]||(testMarks[_0x1c5860]={}),currentClass=_0x1c5860;const _0x21e832=studentData[_0x1c5860]||[],_0x51bc48=document[_0x127afb(0x13a)](_0x127afb(0x1f0));_0x51bc48['innerHTML']='<h2\x20style=\x22margin-top:6px;\x20text-align:left;\x22>'+_0x1c5860+'\x20-\x20Students\x20Analytics</h2>',_0x21e832[_0x127afb(0x1b0)](_0x3d94fc=>{const _0x3e6e3c=_0x127afb,_0x3e175f=document[_0x3e6e3c(0x131)](_0x3e6e3c(0x172));_0x3e175f['className']='student',_0x3e175f[_0x3e6e3c(0x193)]=_0x3e6e3c(0x19d)+escapeHtml(_0x3d94fc)+_0x3e6e3c(0x1d5)+escapeJs(_0x3d94fc)+_0x3e6e3c(0x134),_0x51bc48[_0x3e6e3c(0x1e3)](_0x3e175f);}),setTimeout(()=>{const _0x4d0eb5=_0x127afb,_0x3a709a=_0x51bc48[_0x4d0eb5(0x15b)]()[_0x4d0eb5(0x136)]+window['scrollY']-0x3c;window[_0x4d0eb5(0x167)]({'top':_0x3a709a,'behavior':'smooth'});},0x50);}function mark(_0x510729,_0x58a0f5,_0x40c6a3){const _0x3b6a5b=_0x36ad;if(!currentClass)return;if(!attendance[currentClass]||!attendance[currentClass][_0x510729])return;attendance[currentClass][_0x510729][_0x3b6a5b(0x16a)]=_0x58a0f5;const _0x1e313f=_0x40c6a3['closest'](_0x3b6a5b(0x19b)),_0x417e8d=_0x1e313f[_0x3b6a5b(0x187)]('.time-input');_0x1e313f['querySelectorAll'](_0x3b6a5b(0x1ea))[_0x3b6a5b(0x1b0)](_0x360d45=>{const _0x29d17c=_0x3b6a5b;_0x360d45[_0x29d17c(0x177)]['remove']('present-selected','absent-selected',_0x29d17c(0x1e9));}),_0x3b6a5b(0x1b1)===_0x58a0f5?(_0x40c6a3[_0x3b6a5b(0x177)][_0x3b6a5b(0x152)]('present-selected'),_0x417e8d&&(_0x417e8d[_0x3b6a5b(0x1d8)][_0x3b6a5b(0x17e)]=_0x3b6a5b(0x137),_0x417e8d[_0x3b6a5b(0x189)]=!0x0,_0x417e8d[_0x3b6a5b(0x158)]=''),attendance[currentClass][_0x510729][_0x3b6a5b(0x14f)]=''):_0x3b6a5b(0x145)===_0x58a0f5?(_0x40c6a3[_0x3b6a5b(0x177)][_0x3b6a5b(0x152)](_0x3b6a5b(0x1e9)),_0x417e8d&&(_0x417e8d[_0x3b6a5b(0x1d8)][_0x3b6a5b(0x17e)]='',_0x417e8d[_0x3b6a5b(0x189)]=!0x1,setTimeout(()=>_0x417e8d['focus'](),0x3c))):_0x3b6a5b(0x1de)===_0x58a0f5&&(_0x40c6a3[_0x3b6a5b(0x177)][_0x3b6a5b(0x152)](_0x3b6a5b(0x1d3)),_0x417e8d&&(_0x417e8d[_0x3b6a5b(0x1d8)][_0x3b6a5b(0x17e)]=_0x3b6a5b(0x137),_0x417e8d['disabled']=!0x0,_0x417e8d[_0x3b6a5b(0x158)]=''),attendance[currentClass][_0x510729][_0x3b6a5b(0x14f)]='');}function onTimeChange(_0x21355f,_0x2e75b9){const _0x967e0b=_0x36ad;if(!currentClass)return;if(!attendance[currentClass]||!attendance[currentClass][_0x21355f])return;const _0x3a44c0=(_0x2e75b9['value']||'')[_0x967e0b(0x199)]();attendance[currentClass][_0x21355f][_0x967e0b(0x14f)]=_0x3a44c0,_0x3a44c0&&_0x967e0b(0x145)!==attendance[currentClass][_0x21355f]['status']&&(attendance[currentClass][_0x21355f][_0x967e0b(0x16a)]=_0x967e0b(0x145),loadAttendanceClass(currentClass));}function generateResult(){const _0x349fce=_0x36ad;if(currentClass&&studentData[currentClass]&&studentData[currentClass][_0x349fce(0x147)]>0x0){const _0x3f7f14=findUnmarkedStudents(currentClass);if(_0x3f7f14['length']>0x0){const _0xde8a78=_0x3f7f14[_0x349fce(0x1c3)](0x0,0xf)['join'](',\x20');return void alert(_0x349fce(0x164)+currentClass+'\x20first.\x0aUnmarked\x20('+_0x3f7f14[_0x349fce(0x147)]+'):\x20'+_0xde8a78+(_0x3f7f14[_0x349fce(0x147)]>0xf?_0x349fce(0x173):''));}}else for(let _0x52f4f2 in attendance){if(!studentData[_0x52f4f2]||0x0===studentData[_0x52f4f2]['length'])continue;const _0x531cc7=findUnmarkedStudents(_0x52f4f2);if(_0x531cc7[_0x349fce(0x147)]>0x0){const _0x2a6f64=_0x531cc7['slice'](0x0,0xf)['join'](',\x20');return void alert(_0x349fce(0x164)+_0x52f4f2+_0x349fce(0x16f)+_0x531cc7[_0x349fce(0x147)]+_0x349fce(0x12f)+_0x2a6f64+(_0x531cc7[_0x349fce(0x147)]>0xf?_0x349fce(0x173):''));}}let _0x1e86c6='';for(let _0x33247e in attendance){const _0x67459d=Object['entries'](attendance[_0x33247e]||{}),_0x25ae6a=_0x67459d[_0x349fce(0x1cf)](([_0x3694d7,_0x238608])=>_0x238608&&('Present'===_0x238608[_0x349fce(0x16a)]||'Late'===_0x238608[_0x349fce(0x16a)]))[_0x349fce(0x176)](([_0x42f063])=>_0x42f063),_0x9fdcc8=_0x67459d['filter'](([_0x4e83bf,_0x3fe904])=>_0x3fe904&&_0x349fce(0x1de)===_0x3fe904[_0x349fce(0x16a)])[_0x349fce(0x176)](([_0x49f46b])=>_0x49f46b),_0x592835=_0x67459d['filter'](([_0x1cfe34,_0x4e0972])=>_0x4e0972&&'Late'===_0x4e0972['status'])[_0x349fce(0x176)](([_0x25d6f7,_0x1420b3])=>({'name':_0x25d6f7,'time':_0x1420b3['time']}));0x0===_0x25ae6a[_0x349fce(0x147)]&&0x0===_0x9fdcc8[_0x349fce(0x147)]&&0x0===_0x592835[_0x349fce(0x147)]||(_0x1e86c6+=_0x349fce(0x178)+_0x33247e+'\x20Attendance\x0a\x0a',_0x25ae6a[_0x349fce(0x147)]>0x0&&(_0x1e86c6+=_0x349fce(0x1e5)+_0x25ae6a['length']+_0x349fce(0x1ee),_0x25ae6a['forEach']((_0xf2ac68,_0x292499)=>{const _0x5213b8=_0x349fce;_0x1e86c6+=_0x5213b8(0x18f)+(_0x292499+0x1)+'.\x20'+_0xf2ac68+'\x0a';}),_0x1e86c6+='\x0a'),_0x9fdcc8[_0x349fce(0x147)]>0x0&&(_0x1e86c6+=_0x349fce(0x162)+_0x9fdcc8[_0x349fce(0x147)]+_0x349fce(0x1ee),_0x9fdcc8[_0x349fce(0x1b0)]((_0x226414,_0x4ad11f)=>{_0x1e86c6+='\x20\x20\x20'+(_0x4ad11f+0x1)+'.\x20'+_0x226414+'\x0a';}),_0x1e86c6+='\x0a'),_0x592835[_0x349fce(0x147)]>0x0&&(_0x1e86c6+=_0x349fce(0x1ed)+_0x592835[_0x349fce(0x147)]+'):\x0a',_0x592835['forEach'](_0x542062=>{const _0x2d1a3d=_0x349fce;_0x1e86c6+=_0x2d1a3d(0x1ad)+_0x542062['name']+_0x2d1a3d(0x1b3)+(_0x542062[_0x2d1a3d(0x14f)]||'-')+'\x0a';}),_0x1e86c6+='\x0a'),_0x1e86c6+='----------------------------------\x0a\x0a');}document[_0x349fce(0x13a)]('summary')[_0x349fce(0x158)]=_0x1e86c6[_0x349fce(0x199)]()||_0x349fce(0x1c6),setTimeout(()=>{const _0x5f5558=_0x349fce,_0xb96f63=document[_0x5f5558(0x13a)](_0x5f5558(0x185));_0xb96f63&&_0xb96f63['scrollIntoView']({'behavior':'smooth','block':'center'});},0x3c);}function shareOnWhatsApp(){const _0x4ee246=_0x36ad,_0x570d66=document[_0x4ee246(0x13a)](_0x4ee246(0x185))[_0x4ee246(0x158)];if(!_0x570d66[_0x4ee246(0x199)]())return void alert(_0x4ee246(0x1c7));const _0x582df5=_0x4ee246(0x1d6)+encodeURIComponent(_0x570d66);window[_0x4ee246(0x14d)](_0x582df5,_0x4ee246(0x16d));}function onMarksInput(_0x3ab9cc,_0x5a28af){const _0x2cabf5=_0x36ad;if(!currentClass)return;testMarks[currentClass]||(testMarks[currentClass]={});const _0xba23ef=(_0x5a28af['value']||'')[_0x2cabf5(0x1db)]()[_0x2cabf5(0x199)]();testMarks[currentClass][_0x3ab9cc]=_0xba23ef;const _0x29a568=Number(document['getElementById'](_0x2cabf5(0x169))['value']||'');if(!isNaN(_0x29a568)&&_0x29a568>0x0){if(''===_0xba23ef)_0x5a28af[_0x2cabf5(0x177)][_0x2cabf5(0x186)](_0x2cabf5(0x180));else{const _0x441ec4=Number(_0xba23ef);isNaN(_0x441ec4)||_0x441ec4<0x0||_0x441ec4>_0x29a568?_0x5a28af[_0x2cabf5(0x177)][_0x2cabf5(0x152)]('invalid'):_0x5a28af[_0x2cabf5(0x177)]['remove'](_0x2cabf5(0x180));}}else _0x5a28af[_0x2cabf5(0x177)]['remove'](_0x2cabf5(0x180));}function onTotalMarksChange(){const _0x5c54a5=_0x36ad;applyTotalToInputs();const _0x412d7b=Number(document['getElementById'](_0x5c54a5(0x169))[_0x5c54a5(0x158)]||'');if(!currentClass||!testMarks[currentClass])return;document[_0x5c54a5(0x13a)](_0x5c54a5(0x1d4))[_0x5c54a5(0x150)](_0x5c54a5(0x1e8))['forEach'](_0x16fca4=>{const _0x1796db=_0x5c54a5,_0x30e2f9=_0x16fca4['value'];if(''===_0x30e2f9)return void _0x16fca4[_0x1796db(0x177)][_0x1796db(0x186)](_0x1796db(0x180));const _0x46c95a=Number(_0x30e2f9);isNaN(_0x46c95a)||_0x46c95a<0x0||_0x412d7b&&_0x46c95a>_0x412d7b?_0x16fca4['classList'][_0x1796db(0x152)](_0x1796db(0x180)):_0x16fca4[_0x1796db(0x177)]['remove'](_0x1796db(0x180));});}function applyTotalToInputs(){const _0x134459=_0x36ad,_0x2760ea=document[_0x134459(0x13a)](_0x134459(0x169))[_0x134459(0x158)],_0x4e2a3c=document[_0x134459(0x13a)](_0x134459(0x1d4));if(!_0x4e2a3c)return;_0x4e2a3c[_0x134459(0x150)](_0x134459(0x1e8))[_0x134459(0x1b0)](_0x3ffe7d=>{const _0x29977c=_0x134459;_0x2760ea&&''!==_0x2760ea?_0x3ffe7d[_0x29977c(0x1a8)](_0x29977c(0x174),_0x2760ea):_0x3ffe7d[_0x29977c(0x194)]('max');});}function generateMarksResult(){const _0x328e30=_0x36ad;if(!currentClass)return void alert(_0x328e30(0x132));const _0x5a802a=(document['getElementById'](_0x328e30(0x144))[_0x328e30(0x158)]||'')[_0x328e30(0x199)](),_0x3a6ea8=(document[_0x328e30(0x13a)](_0x328e30(0x191))[_0x328e30(0x158)]||'')[_0x328e30(0x199)](),_0x254418=document[_0x328e30(0x13a)](_0x328e30(0x169))[_0x328e30(0x158)]||'',_0x17705b=''===_0x254418?null:Number(_0x254418),_0x4661db=studentData[currentClass]||[];testMarks[currentClass]||(testMarks[currentClass]={});const _0x9ff802=[],_0x272efa=[];if(_0x4661db[_0x328e30(0x1b0)](_0x4943a1=>{const _0x2d4928=_0x328e30,_0x715389=(testMarks[currentClass][_0x4943a1]||'')['toString']()[_0x2d4928(0x199)]();if(''===_0x715389)_0x272efa[_0x2d4928(0x1cd)]({'name':_0x4943a1,'mark':null});else{const _0x5c585b=Number(_0x715389);isNaN(_0x5c585b)||_0x5c585b<0x0||null!==_0x17705b&&_0x5c585b>_0x17705b?(_0x9ff802[_0x2d4928(0x1cd)](_0x4943a1),_0x272efa[_0x2d4928(0x1cd)]({'name':_0x4943a1,'mark':_0x715389,'invalid':!0x0})):_0x272efa['push']({'name':_0x4943a1,'mark':_0x5c585b});}}),_0x9ff802[_0x328e30(0x147)]>0x0){const _0x58005a=_0x9ff802[_0x328e30(0x1c3)](0x0,0x5)[_0x328e30(0x161)](',\x20');alert(_0x328e30(0x159)+_0x58005a+(_0x9ff802[_0x328e30(0x147)]>0x5?_0x328e30(0x173):''));}let _0x208f4e='';_0x208f4e+='üìù\x20'+currentClass+'\x20-\x20Test\x20Marks\x0a',_0x5a802a&&(_0x208f4e+=_0x328e30(0x154)+_0x5a802a+'\x0a'),_0x3a6ea8&&(_0x208f4e+=_0x328e30(0x1f1)+_0x3a6ea8+'\x0a'),null!==_0x17705b&&(_0x208f4e+=_0x328e30(0x17f)+_0x17705b+'\x0a'),_0x208f4e+='\x0a';const _0x5b6f2d=_0x272efa[_0x328e30(0x1cf)](_0xb90f42=>null!==_0xb90f42[_0x328e30(0x148)]&&!_0xb90f42[_0x328e30(0x180)])[_0x328e30(0x1c3)]()[_0x328e30(0x13b)]((_0x4f36b6,_0x13ef19)=>Number(_0x13ef19[_0x328e30(0x148)])-Number(_0x4f36b6[_0x328e30(0x148)])),_0x2183d5=_0x272efa['filter'](_0x106474=>null===_0x106474[_0x328e30(0x148)])[_0x328e30(0x176)](_0x2b3824=>_0x2b3824[_0x328e30(0x190)]),_0x4566c9=_0x272efa[_0x328e30(0x1cf)](_0x4cd264=>_0x4cd264['invalid']);if(_0x5b6f2d[_0x328e30(0x147)]>0x0){_0x5b6f2d[_0x328e30(0x1b0)]((_0x4d777a,_0x480c9e)=>{const _0x35809b=_0x328e30;_0x208f4e+=_0x480c9e+0x1+'.\x20'+_0x4d777a[_0x35809b(0x190)]+':\x20'+_0x4d777a[_0x35809b(0x148)]+'\x0a';});let _0xe445f6=0x0,_0x5cd6a5=0x0,_0x3dc084=-0x1/0x0,_0x19076e=[],_0x3ab0ed=0x1/0x0,_0x32fd96=[];_0x5b6f2d[_0x328e30(0x1b0)](_0x55e377=>{const _0x3b3111=_0x328e30,_0x24ec50=Number(_0x55e377[_0x3b3111(0x148)]);_0xe445f6+=_0x24ec50,_0x5cd6a5++,_0x24ec50>_0x3dc084?(_0x3dc084=_0x24ec50,_0x19076e=[_0x55e377[_0x3b3111(0x190)]]):_0x24ec50===_0x3dc084&&_0x19076e['push'](_0x55e377[_0x3b3111(0x190)]),_0x24ec50<_0x3ab0ed?(_0x3ab0ed=_0x24ec50,_0x32fd96=[_0x55e377[_0x3b3111(0x190)]]):_0x24ec50===_0x3ab0ed&&_0x32fd96[_0x3b3111(0x1cd)](_0x55e377[_0x3b3111(0x190)]);}),_0x208f4e+='\x0a',_0x19076e[_0x328e30(0x147)]>0x0&&(_0x208f4e+='Highest:\x20'+_0x19076e[_0x328e30(0x161)](',\x20')+_0x328e30(0x1e0)+_0x3dc084+'\x0a'),_0x32fd96[_0x328e30(0x147)]>0x0&&_0x3ab0ed!==0x1/0x0&&(_0x208f4e+=_0x328e30(0x1dc)+_0x32fd96[_0x328e30(0x161)](',\x20')+_0x328e30(0x1e0)+_0x3ab0ed+'\x0a');const _0x5cf122=_0xe445f6/_0x5cd6a5;_0x208f4e+='Average:\x20'+(Number[_0x328e30(0x1b8)](_0x5cf122)?_0x5cf122['toFixed'](0x2):'-')+'\x0a';}else _0x208f4e+=_0x328e30(0x149);_0x2183d5[_0x328e30(0x147)]>0x0&&(_0x208f4e+=_0x328e30(0x1b9),_0x2183d5[_0x328e30(0x1b0)]((_0x32198a,_0x5efe99)=>{_0x208f4e+=_0x5efe99+0x1+'.\x20'+_0x32198a+'\x0a';})),_0x4566c9[_0x328e30(0x147)]>0x0&&(_0x208f4e+=_0x328e30(0x166),_0x4566c9['forEach']((_0x554e07,_0x4d1052)=>{const _0xd2e319=_0x328e30;_0x208f4e+=_0x4d1052+0x1+'.\x20'+_0x554e07[_0xd2e319(0x190)]+':\x20'+_0x554e07[_0xd2e319(0x148)]+'\x0a';})),document[_0x328e30(0x13a)](_0x328e30(0x1d7))['value']=_0x208f4e[_0x328e30(0x199)](),setTimeout(()=>{const _0x147a80=_0x328e30,_0x2cda43=document[_0x147a80(0x13a)](_0x147a80(0x1d7));_0x2cda43&&_0x2cda43[_0x147a80(0x1d1)]({'behavior':_0x147a80(0x198),'block':_0x147a80(0x1b4)});},0x3c);}function shareMarksOnWhatsApp(){const _0x203564=_0x36ad,_0x137c50=document['getElementById'](_0x203564(0x1d7))[_0x203564(0x158)];if(!_0x137c50['trim']())return void alert(_0x203564(0x188));const _0x151d28=_0x203564(0x1d6)+encodeURIComponent(_0x137c50);window['open'](_0x151d28,'_blank');}function downloadAttendanceImage(){const _0x29ba4d=_0x36ad;if(!currentClass)return void alert(_0x29ba4d(0x1af));const _0x5a2245=Object['entries'](attendance[currentClass]||{}),_0x151032=_0x5a2245[_0x29ba4d(0x1cf)](([_0x4af294,_0x3c3332])=>_0x29ba4d(0x1b1)===_0x3c3332['status']||_0x29ba4d(0x145)===_0x3c3332[_0x29ba4d(0x16a)])['map'](([_0xf5fcd6,_0x3a8aac])=>({'name':_0xf5fcd6,'isLate':_0x29ba4d(0x145)===_0x3a8aac[_0x29ba4d(0x16a)]})),_0x5814d3=_0x5a2245[_0x29ba4d(0x1cf)](([_0xb68a46,_0x301727])=>_0x29ba4d(0x1de)===_0x301727[_0x29ba4d(0x16a)])[_0x29ba4d(0x176)](([_0x9c88c9])=>_0x9c88c9),_0x47eb71=_0x5a2245[_0x29ba4d(0x1cf)](([_0xbc2e50,_0x47cce2])=>_0x29ba4d(0x145)===_0x47cce2[_0x29ba4d(0x16a)])[_0x29ba4d(0x176)](([_0x311dc2,_0x1dcc29])=>({'name':_0x311dc2,'time':_0x1dcc29['time']||'-'}));if(0x0===_0x151032[_0x29ba4d(0x147)]&&0x0===_0x5814d3[_0x29ba4d(0x147)]&&0x0===_0x47eb71['length'])return void alert(_0x29ba4d(0x1c6));const _0x243c50=(_0x322bac,_0xac602d={})=>_0x322bac&&0x0!==_0x322bac[_0x29ba4d(0x147)]?_0x322bac[_0x29ba4d(0x176)]((_0x1f0e3a,_0x5d5cd2)=>{const _0x58f7e7=_0x29ba4d;if('string'==typeof _0x1f0e3a)return _0x5d5cd2+0x1+_0x58f7e7(0x1aa)+escapeHtml(_0x1f0e3a)+_0x58f7e7(0x1e2);{const _0x27f4ae=_0x1f0e3a[_0x58f7e7(0x1e6)]&&_0xac602d[_0x58f7e7(0x15e)]?_0x58f7e7(0x142):'';return _0x5d5cd2+0x1+'.\x20<strong>'+escapeHtml(_0x1f0e3a[_0x58f7e7(0x190)])+_0x58f7e7(0x1e2)+_0x27f4ae;}})[_0x29ba4d(0x161)]('<br>'):'-',_0x3e672a=document['createElement'](_0x29ba4d(0x172));var _0x68d3e6;_0x3e672a[_0x29ba4d(0x1d8)][_0x29ba4d(0x1bf)]='28px',_0x3e672a['style'][_0x29ba4d(0x184)]=_0x29ba4d(0x1ab),_0x3e672a[_0x29ba4d(0x1d8)]['fontFamily']=_0x29ba4d(0x17d),_0x3e672a['style'][_0x29ba4d(0x1a9)]=_0x29ba4d(0x181),_0x3e672a[_0x29ba4d(0x1d8)][_0x29ba4d(0x1d2)]=_0x29ba4d(0x171),_0x3e672a[_0x29ba4d(0x1d8)][_0x29ba4d(0x139)]=_0x29ba4d(0x130),_0x3e672a[_0x29ba4d(0x1d8)][_0x29ba4d(0x18a)]=_0x29ba4d(0x1e4),_0x3e672a[_0x29ba4d(0x1d8)]['boxSizing']='border-box',_0x3e672a[_0x29ba4d(0x1d8)][_0x29ba4d(0x175)]='0\x2010px\x2030px\x20rgba(20,30,60,0.12)',_0x3e672a['style'][_0x29ba4d(0x1df)]=_0x29ba4d(0x156),_0x3e672a[_0x29ba4d(0x193)]='\x0a\x20\x20\x20\x20<div\x20style=\x22display:flex;align-items:center;gap:16px;margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:linear-gradient(135deg,#5eead4,#60a5fa);box-shadow:0\x206px\x2018px\x20rgba(59,130,246,0.12);font-size:28px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20üéì\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:1;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:20px;font-weight:700;margin-bottom:2px;\x22>Scholars\x20Academy</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:13px;color:#4b5563;\x22>üìö\x20'+escapeHtml(currentClass)+_0x29ba4d(0x1cc)+new Date()[_0x29ba4d(0x155)](void 0x0,{'day':_0x29ba4d(0x1c9),'month':'short','year':_0x29ba4d(0x1c9)})+_0x29ba4d(0x1ae)+(_0x151032[_0x29ba4d(0x147)]+_0x5814d3[_0x29ba4d(0x147)])+_0x29ba4d(0x1be)+_0x151032[_0x29ba4d(0x147)]+_0x29ba4d(0x19c)+_0x243c50(_0x151032,{'showLateBadge':!0x0})+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20<!--\x20Absent\x20card\x20(warm\x20orange\x20gradient)\x20-->\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:1;background:linear-gradient(90deg,\x20rgba(255,247,237,1)\x200%,\x20rgba(255,255,255,0)\x20100%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:10px;padding:12px;border:1px\x20solid\x20rgba(249,115,22,0.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:0\x206px\x2018px\x20rgba(249,115,22,0.03);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:700;font-size:14px;display:flex;align-items:center;gap:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚ùå\x20Absent\x20<span\x20style=\x22font-weight:600;color:#fb923c;\x22>('+_0x5814d3['length']+_0x29ba4d(0x19c)+_0x243c50(_0x5814d3)+_0x29ba4d(0x183)+_0x47eb71[_0x29ba4d(0x147)]+_0x29ba4d(0x14a)+(_0x68d3e6=_0x47eb71,_0x68d3e6&&0x0!==_0x68d3e6[_0x29ba4d(0x147)]?_0x68d3e6[_0x29ba4d(0x176)]((_0x3a5a39,_0x13e0d0)=>_0x13e0d0+0x1+_0x29ba4d(0x1ba)+escapeHtml(_0x3a5a39['name'])+_0x29ba4d(0x1b6)+escapeHtml(_0x3a5a39[_0x29ba4d(0x14f)])+'</span>')['join'](_0x29ba4d(0x1d9)):'-')+_0x29ba4d(0x1c8),_0x3e672a[_0x29ba4d(0x1d8)][_0x29ba4d(0x19e)]=_0x29ba4d(0x1a5),_0x3e672a[_0x29ba4d(0x1d8)][_0x29ba4d(0x1a1)]=_0x29ba4d(0x1d0),document[_0x29ba4d(0x182)][_0x29ba4d(0x1e3)](_0x3e672a),html2canvas(_0x3e672a,{'scale':0x2,'useCORS':!0x0})[_0x29ba4d(0x16e)](_0x9025a=>{const _0x3d2125=_0x29ba4d;try{const _0xb01acf=document[_0x3d2125(0x131)]('a');_0xb01acf[_0x3d2125(0x195)]=currentClass+_0x3d2125(0x1bd)+getLocalISODate()+'.png',_0xb01acf[_0x3d2125(0x138)]=_0x9025a[_0x3d2125(0x18c)](_0x3d2125(0x1c1)),document[_0x3d2125(0x182)][_0x3d2125(0x1e3)](_0xb01acf),_0xb01acf['click'](),_0xb01acf[_0x3d2125(0x186)]();}finally{_0x3e672a&&_0x3e672a[_0x3d2125(0x1bc)]&&document[_0x3d2125(0x182)][_0x3d2125(0x15f)](_0x3e672a);}})[_0x29ba4d(0x14b)](_0x561606=>{const _0x91b854=_0x29ba4d;_0x3e672a&&_0x3e672a[_0x91b854(0x1bc)]&&document['body']['removeChild'](_0x3e672a),console[_0x91b854(0x17b)](_0x561606),alert(_0x91b854(0x13f));});}async function submitAttendance(){const _0x2e0926=_0x36ad;if(!window['db'])return void alert('Firebase\x20is\x20not\x20initialized.\x20Check\x20firebaseConfig\x20in\x20head\x20module\x20script.');if(!currentClass)return void alert(_0x2e0926(0x132));const _0x80d401=findUnmarkedStudents(currentClass);if(_0x80d401['length']>0x0){const _0x3938d6=_0x80d401[_0x2e0926(0x1c3)](0x0,0xc)['join'](',\x20');return void alert(_0x2e0926(0x164)+currentClass+_0x2e0926(0x1b2)+_0x80d401[_0x2e0926(0x147)]+'):\x20'+_0x3938d6+(_0x80d401[_0x2e0926(0x147)]>0xc?_0x2e0926(0x173):''));}const _0x1b012c=attendance[currentClass]||{},_0x2ecce8=Object['entries'](_0x1b012c)[_0x2e0926(0x1cf)](([_0x3e481c,_0x1602a9])=>_0x1602a9&&_0x1602a9[_0x2e0926(0x16a)]);if(0x0===_0x2ecce8['length'])return void alert('No\x20attendance\x20marked\x20for\x20this\x20class.\x20Mark\x20attendance\x20before\x20submitting.');const _0x295077=getLocalISODate();try{if(await checkAttendanceSubmittedForClassDate(currentClass,_0x295077))return showToast(currentClass+_0x2e0926(0x192)+_0x295077+'\x20has\x20already\x20been\x20submitted.',{'type':'info'}),void setShareAndDownloadVisibility(!0x0);}catch(_0x4f9ca0){if(console[_0x2e0926(0x17b)](_0x2e0926(0x17c),_0x4f9ca0),!confirm(_0x2e0926(0x1ef)))return;}if(!loggedInTeacher){if(!confirm(_0x2e0926(0x1a3)))return;}if(!confirm(_0x2e0926(0x15c)+currentClass+'\x20('+_0x2ecce8[_0x2e0926(0x147)]+_0x2e0926(0x13e)))return;const _0x7d99fc=window[_0x2e0926(0x1ce)](window['db'],_0x2e0926(0x1c0));try{const _0x4f3a73=_0x2ecce8[_0x2e0926(0x176)](([_0x57e2b9,_0x20f031])=>{const _0x46af47=_0x2e0926,_0x1f1fb6=_0x20f031[_0x46af47(0x16a)]||null,_0x5a395a={'name':_0x57e2b9,'className':currentClass,'originalStatus':_0x1f1fb6,'status':_0x46af47(0x1de)===_0x1f1fb6?_0x46af47(0x1de):_0x46af47(0x1b1),'isLate':'Late'===_0x1f1fb6,'date':_0x295077,'faculty':loggedInTeacher||null,'createdAt':window[_0x46af47(0x1a2)]?window[_0x46af47(0x1a2)]['fromDate'](new Date()):new Date()};return window[_0x46af47(0x197)](_0x7d99fc,_0x5a395a);});await Promise[_0x2e0926(0x196)](_0x4f3a73),showToast(_0x2e0926(0x1ca)+_0x2ecce8[_0x2e0926(0x147)]+_0x2e0926(0x19f)+currentClass+'.',{'type':_0x2e0926(0x151),'duration':0xaf0}),setShareAndDownloadVisibility(!0x0);}catch(_0x1d9084){console[_0x2e0926(0x17b)]('Error\x20saving\x20attendance:',_0x1d9084),alert(_0x2e0926(0x1ac));}}function setShareAndDownloadVisibility(_0x21d995){const _0x56e329=_0x36ad,_0x214466=document[_0x56e329(0x13a)]('shareBtn'),_0x13a81c=document[_0x56e329(0x13a)]('downloadImageBtn');_0x214466&&(_0x214466['style'][_0x56e329(0x17e)]=_0x21d995?'':_0x56e329(0x137)),_0x13a81c&&(_0x13a81c[_0x56e329(0x1d8)][_0x56e329(0x17e)]=_0x21d995?'':'none');}document[_0x2e5c61(0x18d)](_0x2e5c61(0x19a),function(){showAuthModal(),setShareAndDownloadVisibility(!0x1);});
